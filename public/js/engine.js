!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rpgGameEngine=e():t.rpgGameEngine=e()}(globalThis,(()=>(()=>{"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}function r(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:n+""}(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);var o=function(){function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:32,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:32;n(this,t),this.img=new Image,this.img.src=e,this.x=this.y=0,this.width=i,this.height=r,this.frame=0,this.vx=this.vy=0,this.shiftX=this.shiftY=0,this.rotate=0}return function(t,e,n){e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"update",value:function(t){this.render(t),this.onEnterFrame(),this.x+=this.vx,this.y+=this.vy}},{key:"onEnterFrame",value:function(){}},{key:"render",value:function(t){if(!(this.x+this.shiftX<-1*this.width||this.x+this.shiftX>t.width||this.y+this.shiftY<-1*this.height||this.y+this.shiftY>t.height)){var e=this.frame%(this.img.width/this.width),n=~~(this.frame/(this.img.width/this.width)),i=t.getContext("2d"),r=this.x+this.width/2+this.shiftX,o=this.y+this.height/2+this.shiftY;null==i||i.save(),null==i||i.translate(r,o),null==i||i.rotate(this.rotate*Math.PI/180),null==i||i.translate(-1*r,-1*o),null==i||i.drawImage(this.img,this.width*e,this.height*n,this.width,this.height,this.x+this.shiftX,this.y+this.shiftY,this.width,this.height),null==i||i.restore()}}},{key:"getRelactiveFingerPosition",value:function(t){var e={x:t.x-this.x-this.shiftX,y:t.y-this.y-this.shiftY},n=function(t,e,n){return e<=t&&t<=n};return!(!n(e.x,0,this.width)||!n(e.y,0,this.height))&&e}},{key:"assignTouchEvent",value:function(t,e){var n=this.getRelactiveFingerPosition(e);"touchstart"===t?n&&this.ontouchstart(n.x,n.y):"touchmove"===t?n&&this.ontouchmove(n.x,n.y):"touchend"===t&&n&&this.ontouchend(n.x,n.y)}},{key:"ontouchstart",value:function(){}},{key:"ontouchmove",value:function(){}},{key:"ontouchend",value:function(){}}]),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}function c(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:e+""}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function l(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var y=function(t){function e(t){var i,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:32;return a(this,e),(i=n.call(this,t,o,o)).size=o,i.isSynchronize=r,i.mapX=i.mapY=0,i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}(e);return function(t,e,n){e&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"isOverlapped",value:function(t){return this.mapX===t.mapX&&this.mapY===t.mapY}}]),e}(o);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}function d(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===p(e)?e:e+""}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function g(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var x=function(t){function e(t){var i,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:32;return v(this,e),(i=n.call(this,t,r,o)).direction=0,i.animation=1,i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=w(t);if(e){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}(e);return function(t,e,n){e&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"render",value:function(t){if(!(this.x+this.shiftX<-1*this.size||this.x+this.shiftX>t.width||this.y+this.shiftY<-1*this.size||this.y+this.shiftY>t.height)){var e=t.getContext("2d"),n=this.x+this.width/2+this.shiftX,i=this.y+this.height/2+this.shiftY;null==e||e.save(),null==e||e.translate(n,i),null==e||e.rotate(this.rotate*Math.PI/180),null==e||e.translate(-1*n,-1*i),null==e||e.drawImage(this.img,this.size*this.animation,this.size*this.direction,this.size,this.size,this.x+this.shiftX,this.y+this.shiftY,this.size,this.size)}}}]),e}(y);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function j(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}function P(t){var e=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==S(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===S(e)?e:e+""}var O=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.objs=[]}return function(t,e,n){e&&j(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"addObject",value:function(t){this.objs.push(t)}},{key:"update",value:function(){this.onEnterFrame()}},{key:"assignTouchEvent",value:function(t,e){"touchstart"===t?this.ontouchstart(e.x,e.y):"touchmove"===t?this.ontouchmove(e.x,e.y):"touchend"===t&&this.ontouchend(e.x,e.y),this.objs.forEach((function(n){n.assignTouchEvent(t,e)}))}},{key:"onEnterFrame",value:function(){}},{key:"onChangeScene",value:function(){}},{key:"ontouchstart",value:function(){}},{key:"ontouchmove",value:function(){}},{key:"ontouchend",value:function(){}}]),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function E(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}function _(t,e,n,i){return _="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else!function(t,e,n){(e=T(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(i,e,n);return!0},_(t,e,n,i)}function T(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:e+""}function z(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Y(t){var e="function"==typeof Map?new Map:void 0;return Y=function(t){function n(){return R(t,arguments,M(this).constructor)}if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,t)},Y(t)}function R(){return(R=X()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&C(r,n.prototype),r}).apply(null,arguments)}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var F=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=n.call(this,t)).autoplay=!1,i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t);var n=function(t){var e=X();return function(){var n,i=M(t);if(e){var r=M(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return z(this,n)}}(e);return function(t,e,n){e&&E(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"start",value:function(){this.muted=!1,this.play()}},{key:"soundLoop",value:function(){(function(t,e,n,i,r){if(!_(t,"loop",!0,i||t))throw new TypeError("failed to set property")})(M(e.prototype),0,0,this),this.start()}},{key:"stop",value:function(){this.pause(),this.currentTime=0}}]),e}(Y(Audio));function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function A(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}function D(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==L(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===L(e)?e:e+""}var B=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas),this.resizeCanvas(),this.scenes=[],this.sounds={},this.input={},this.keys={},this._isAlreadyTouched=!1,this._hasFinishedSetting=!1,this._temporaryCurrentScene=new O,this._preloadPromises=[]}return function(t,e,n){e&&A(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"preload",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=n,o=function(e){t._preloadPromises[e]=new Promise((function(n,i){if(r[e].match(/\.(jpg|jpeg|png|gif)$/i)){var o=new Image;o.src=r[e],o.addEventListener("load",(function(){n()}),{passive:!0,once:!0}),o.addEventListener("error",(function(){i("image asset: ".concat(r[e]," can't load."))}),{passive:!0,once:!0})}else if(r[e].match(/\.(wav|wave|mp3|ogg)$/i)){var s=new F(r[e]);s.src=r[e],t.sounds[r[e]]=s,t.sounds[r[e]].load(),s.addEventListener("canplaythrough",(function(){n()}),{passive:!0,once:!0}),s.addEventListener("error",(function(){i("sound asset: ".concat(r[e]," can't load."))}),{passive:!0,once:!0})}else i("asset: ".concat(r," is not supported by preload."))}))},s=0;s<r.length;s++)o(s)}},{key:"main",value:function(t){Promise.all(this._preloadPromises).then((function(e){t()})).catch((function(t){console.error(t)}))}},{key:"start",value:function(){var t=this;addEventListener("resize",(function(){t.resizeCanvas()})),this.keybind("up","ArrowUp"),this.keybind("down","ArrowDown"),this.keybind("right","ArrowRight"),this.keybind("left","ArrowLeft"),this.currentScene=this.currentScene||this.scenes[0],this._mainLoop(),this._waitUserManipulation()}},{key:"keybind",value:function(t,e){this.keys[t]=e,this.input[t]=!1}},{key:"_waitUserManipulation",value:function(){var t=this,e=function(e){e.preventDefault(),t._isAlreadyTouched=!0;var n=[];for(var i in t.sounds)t.sounds[i].load(),t.sounds[i].muted=!0,n.push(t.sounds[i].play());Promise.all(n).then((function(){for(var e in t.sounds)t.sounds[e].stop})).catch((function(t){console.log(t)})),setTimeout((function(){t._setEventListener(),t._hasFinishedSetting=!0}),2e3)};this.canvas.addEventListener("touchstart",e,{passive:!1,once:!0}),addEventListener("keydown",e,{passive:!1,once:!0})}},{key:"_setEventListener",value:function(){var t=this,e=function(e){for(var n in e.preventDefault(),t.keys)switch(e.type){case"keydown":e.key===t.keys[n]&&(t.input[n]=!0);break;case"keyup":e.key===t.keys[n]&&(t.input[n]=!1)}};addEventListener("keydown",e,{passive:!1}),addEventListener("keyup",e,{passive:!1});var n=function(e){var n;e.preventDefault();var i=e.changedTouches[0],r=i.target.getBoundingClientRect(),o={x:(i.clientX-r.left)/r.width*t.canvas.width,y:(i.clientY-r.top)/r.height*t.canvas.height},s=e.type;null===(n=t.currentScene)||void 0===n||n.assignTouchEvent(s,o)};this.canvas.addEventListener("touchstart",n,{passive:!1}),this.canvas.addEventListener("touchmove",n,{passive:!1}),this.canvas.addEventListener("touchend",n,{passive:!1})}},{key:"_mainLoop",value:function(){var t=this,e=this.canvas.getContext("2d");if(null===e)throw new Error("canvas is not defined");if(e.fillStyle="#000",e.fillRect(0,0,this.canvas.width,this.canvas.height),this._isAlreadyTouched){if(this._hasFinishedSetting){if(void 0===this.currentScene)throw new Error("current scene is undefined.");this.currentScene.update(this.canvas),this._temporaryCurrentScene!==this.currentScene&&this.currentScene.onChangeScene(),this.currentScene.objs.forEach((function(e){e.update(t.canvas)})),this._temporaryCurrentScene=this.currentScene}}else this.startPanel();requestAnimationFrame(this._mainLoop.bind(this))}},{key:"startPanel",value:function(){var t=this.canvas.width/20,e=this.canvas.getContext("2d");if(null===e)throw new Error("canvas is null");var n=e.measureText("タップ、または何かキーを押してね！").width;e.font="normal ".concat(t,"px ").concat("游ゴシック体, 'Yu Gothic', YuGothic, sans-serif"),e.textBaseline="middle",e.fillStyle="#aaaaaa",e.fillText("タップ、または何かキーを押してね！",(this.canvas.width-n)/2,this.canvas.height/2)}},{key:"addScene",value:function(t){this.scenes.push(t)}},{key:"resizeCanvas",value:function(){this.canvas.width=window.innerWidth||this.canvas.width,this.canvas.height=window.innerHeight||this.canvas.height}}]),t}();function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}function U(t){var e=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==I(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===I(e)?e:e+""}var $=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:32;G(this,t),this.img=new Image,this.img.src=e,this.x=this.y=0,this.size=n,this.data=[],this.tiles=[],this.vx=this.vy=0,this.obstacles=[0]}return function(t,e,n){e&&V(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"hasObstacle",value:function(t,e){var n=this;return this.obstacles.some((function(i){return i===n.data[e][t]}))}},{key:"addTile",value:function(t){t.mapX=t.x/this.size,t.mapY=t.y/this.size,t.isSynchronize||(t.mapX=(t.x-this.x)/this.size,t.mapY=(t.y-this.y)/this.size),this.tiles.push(t)}},{key:"update",value:function(t){var e=this;this.render(t),this.onEnterFrame(),this.x+=this.vx,this.y+=this.vy,this.tiles.forEach((function(n){n.isSynchronize&&(n.shiftX=e.x,n.shiftY=e.y),n.update(t),n.mapX=n.x/e.size,n.mapY=n.y/e.size,n.isSynchronize||(n.mapX=(n.x-e.x)/e.size,n.mapY=(n.y-e.y)/e.size)}))}},{key:"setObstacles",value:function(t){this.obstacles=t}},{key:"setMap",value:function(t){this.data=t}},{key:"render",value:function(t){var e=this;this.data.forEach((function(n,i){var r=e.size*i+e.y;r<-1*e.size||r>t.height||e.data[i].forEach((function(n,o){var s=e.size*o+e.x;if(!(s<-1*e.size||s>t.width)){var a=e.data[i][o]%(e.img.width/e.size),u=~~(e.data[i][o]/(e.img.width/e.size)),c=t.getContext("2d");null==c||c.drawImage(e.img,e.size*a,e.size*u,e.size,e.size,s,r,e.size,e.size)}}))}))}},{key:"getRelactiveFingerPosition",value:function(t){var e={x:t.x-this.x,y:t.y-this.y},n=function(t,e,n){return e<=t&&t<=n};return!(!n(e.x,0,this.size*this.data[0].length)||!n(e.y,0,this.size*this.data.length))&&e}},{key:"assignTouchEvent",value:function(t,e){var n=this.getRelactiveFingerPosition(e);n&&("touchstart"===t?this.ontouchstart(n.x,n.y):"touchmove"===t?this.ontouchmove(n.x,n.y):"touchend"===t&&this.ontouchend(n.x,n.y),this.tiles.forEach((function(n){n.assignTouchEvent(t,e)})))}},{key:"onEnterFrame",value:function(){}},{key:"ontouchstart",value:function(){}},{key:"ontouchmove",value:function(){}},{key:"ontouchend",value:function(){}}]),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function H(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}function W(t){var e=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==q(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===q(e)?e:e+""}var J=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.text=e,this.font="游ゴシック体, 'Yu Gothic', YuGothic, sans-serif",this.x=this.y=0,this.vx=this.vy=0,this.baseline="top",this.size=20,this.color="#ffffff",this.weight="normal",this._width=0,this._height=0,this._isCenter=!1,this._isMiddle=!1}return function(t,e,n){e&&H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"update",value:function(t){var e=t.getContext("2d");if(null==e)throw new Error("context is undefined");e.font="".concat(this.weight," ").concat(this.size,"px ").concat(this.font),e.fillStyle=this.color,e.textBaseline=this.baseline,this._width=e.measureText(this.text).width,this._height=Math.abs(e.measureText(this.text).actualBoundingBoxAscent)+Math.abs(e.measureText(this.text).actualBoundingBoxDescent),this._isCenter&&(this.x=(t.width-this._width)/2),this._isMiddle&&(this.y=t.height/2),this.render(t,e),this.onEnterFrame(),this.x+=this.vx,this.y+=this.vy}},{key:"render",value:function(t,e){this.x<-1*this._width||this.x>t.width||this.y<-1*this._height||this.y>t.height+this._height||e.fillText(this.text,this.x,this.y)}},{key:"center",value:function(){return this._isCenter=!0,this}},{key:"middle",value:function(){return this.baseline="middle",this._isMiddle=!0,this}},{key:"getRelactiveFingerPosition",value:function(t){var e={x:t.x-this.x,y:t.y-this.y+this._height};("top"===this.baseline||"hanging"===this.baseline)&&(e={x:t.x-this.x,y:t.y-this.y}),"middle"===this.baseline&&(e={x:t.x-this.x,y:t.y-this.y+this._height/2});var n=function(t,e,n){return e<=t&&t<=n};return!(!n(e.x,0,this._width)||!n(e.y,0,this._height))&&e}},{key:"assignTouchEvent",value:function(t,e){var n=this.getRelactiveFingerPosition(e);"touchstart"===t?n&&this.ontouchstart(n.x,n.y):"touchmove"===t?n&&this.ontouchmove(n.x,n.y):"touchend"===t&&n&&this.ontouchend(n.x,n.y)}},{key:"onEnterFrame",value:function(){}},{key:"ontouchstart",value:function(){}},{key:"ontouchmove",value:function(){}},{key:"ontouchend",value:function(){}}]),t}();function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function N(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q(n.key),n)}function Q(t){var e=function(t,e){if("object"!==K(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==K(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===K(e)?e:e+""}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var nt=function(t){function e(t,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t,i,i)).size=i,r.arrow={up:!1,down:!1,left:!1,right:!1},r.initializeAllow(),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=et(t);if(e){var r=et(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return tt(this,n)}}(e);return function(t,e,n){e&&N(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"ontouchstart",value:function(t,e){this._applyToDPad(t,e)}},{key:"ontouchmove",value:function(t,e){this._applyToDPad(t,e)}},{key:"ontouchend",value:function(){this.frame=0,this.initializeAllow()}},{key:"_applyToDPad",value:function(t,e){this.frame=1,this.initializeAllow(),t>e&&t<this.size-e?(this.arrow.up=!0,this.rotate=0):t>this.size-e&&t<e?(this.arrow.down=!0,this.rotate=180):e>t&&e<this.size-t?(this.arrow.left=!0,this.rotate=270):e>this.size-t&&e<t&&(this.arrow.right=!0,this.rotate=90)}},{key:"initializeAllow",value:function(){this.arrow={up:!1,down:!1,left:!1,right:!1}}}]),e}(o);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,st(n.key),n)}function st(t){var e=function(t,e){if("object"!==it(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==it(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===it(e)?e:e+""}var at=function(){function t(){rt(this,t);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];this.member=n,this.speed=1}return function(t,e,n){e&&ot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"setMemberDirection",value:function(){var t=this;this.member.forEach((function(e,n){0===n||(t.member[n-1].mapX<e.mapX&&(e.direction=1),t.member[n-1].mapX>e.mapX&&(e.direction=2),t.member[n-1].mapY<e.mapY&&(e.direction=3),t.member[n-1].mapY>e.mapY&&(e.direction=0))}))}},{key:"setMemberVerocity",value:function(t){var e=this;this.member.forEach((function(n,i){var r,o,s,a,u,c,f;0!==i&&("up"===t?(r=0,o=1,s=-1,a=0,u=1,c=2,f=-1):"down"===t?(r=0,o=-1,s=-1,a=-2,u=1,c=0,f=1):"left"===t?(r=1,o=0,s=0,a=-1,u=2,c=1,f=-1):"right"==t&&(r=-1,o=0,s=-2,a=-1,u=0,c=1,f=1),e.member[i-1].mapX===n.mapX&&(n.vx=e.speed*r),e.member[i-1].mapY===n.mapY&&(n.vy=e.speed*o),e.member[i-1].mapX<n.mapX&&(n.vx=e.speed*s,"left"===t&&1<n.mapX-e.member[i-1].mapX&&(n.vx=e.speed*f)),e.member[i-1].mapX>n.mapX&&(n.vx=e.speed*u,"right"===t&&1<e.member[i-1].mapX-n.mapX&&(n.vx=e.speed*f)),e.member[i-1].mapY<n.mapY&&(n.vy=e.speed*a,"up"===t&&1<n.mapY-e.member[i-1].mapY&&(n.vy=e.speed*f)),e.member[i-1].mapY>n.mapY&&(n.vy=e.speed*c,"down"===t&&1<e.member[i-1].mapY-n.mapY&&(n.vy=e.speed*f)))}))}}]),t}();function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}function ft(t){var e=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ut(e)?e:e+""}var lt=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),function(t,e,n){(e=ft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"_map",[[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],[11,10,10,10,11,11,10,10,10,10,10,10,10,10,10,11,10,10,10,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,6,8,6,6,6,6,6,6,6,6,6,6,6,8,8,7,7,7,7,7,7,7,7,7,7,7,8],[11,5,5,5,11,11,5,5,5,5,5,5,5,5,5,11,5,5,5,11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,1,1,1,1,1,1,1,1,1,1,1,8,8,1,1,1,1,1,1,1,1,1,1,1,8],[11,5,4,4,9,10,5,4,4,4,4,4,4,4,4,11,5,4,4,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,11,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,1,8,8,8,8,8,8,8,8,8,1,8,8,1,1,1,1,1,1,1,1,1,1,1,8],[11,5,4,4,5,5,5,4,11,11,11,11,11,4,4,11,5,11,11,11,5,4,11,11,11,11,11,11,11,11,11,11,4,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,1,1,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,6,6,8,1,8,1,8,1,8,6,6,6,6,6,6,8,8,1,8,8,1,1,8,8,8,8,8,8,8,8,1,8],[11,5,4,4,4,4,4,4,11,10,10,10,10,5,4,11,5,9,10,11,5,4,11,10,10,10,10,10,10,10,10,10,5,4,11,5,4,11,10,10,10,10,10,11,10,10,10,10,10,11,1,1,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1,1,8,1,8,1,8,1,8,1,1,1,1,1,1,8,8,8,8,8,1,1,8,8,8,6,6,6,8,8,1,8],[11,5,4,4,11,11,11,11,11,5,5,5,5,5,4,11,5,5,5,11,5,4,11,5,5,5,5,5,5,5,5,5,5,4,11,5,4,11,5,5,5,5,5,11,5,5,5,5,5,11,1,1,6,6,6,6,6,6,6,6,8,1,8,8,8,8,8,8,8,8,8,1,8,1,8,1,8,1,8,8,8,8,1,7,7,7,7,7,1,1,8,8,8,1,1,1,8,8,1,8],[11,5,4,11,11,11,11,11,11,5,4,4,4,4,4,11,5,4,4,11,5,4,11,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,4,4,4,11,5,4,4,4,4,11,1,1,1,1,1,1,1,1,1,1,8,1,6,6,6,6,6,6,6,6,6,1,8,1,8,1,8,1,8,6,6,6,1,1,1,1,1,1,1,1,8,8,8,1,8,1,8,8,1,8],[11,5,4,11,10,10,10,10,11,5,4,11,11,11,11,11,5,4,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,4,4,11,5,4,11,4,4,11,1,1,8,8,8,8,8,8,8,1,8,1,1,1,1,1,1,1,1,1,1,1,8,1,8,1,8,1,8,1,1,1,1,1,1,1,1,1,1,1,8,8,8,1,8,1,8,8,1,8],[11,5,4,11,5,5,5,5,11,5,4,11,11,11,10,10,5,4,4,11,5,4,11,10,10,10,10,10,11,10,10,10,10,10,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,1,8,1,8,8,1,8],[11,5,4,11,5,4,4,4,11,5,4,9,10,11,5,5,5,4,4,9,5,4,11,5,5,5,5,5,11,5,5,5,5,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,1,8,1,8,1,8,8,6,6,6,6,6,6,6,6,6,6,6,6,1,1,8,1,8,8,1,8],[11,5,4,11,5,11,4,4,11,5,4,5,5,11,5,4,4,4,4,5,5,4,11,5,4,11,4,4,11,5,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,1,8,8,1,8],[11,5,4,11,5,11,5,4,11,5,4,4,4,11,5,11,5,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8],[11,5,4,11,5,11,5,4,11,11,11,11,5,11,5,11,5,9,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8],[11,5,4,11,5,11,5,4,9,10,10,11,5,11,5,11,5,5,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,8,1,6,8,8,6,6,6,6,6,6,6,6,6,8,8,1,8,8,1,8],[11,5,4,11,5,11,5,4,5,5,5,11,5,11,5,11,5,4,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,8,1,1,8,8,1,1,1,1,1,1,1,1,1,8,8,1,8,8,1,8],[11,5,4,9,5,11,5,4,11,11,5,11,5,11,5,11,5,4,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,6,6,8,1,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,1,8,8,8,1,6,6,1,8,8,8,8,8,8,1,8,8,8,1,6,6,1,8],[11,5,4,4,5,11,5,4,9,11,5,11,5,11,5,11,5,4,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,7,1,7,8,8,1,1,1,1,8,8,8,8,8,8,1,8,8,8,1,1,1,1,8],[11,11,11,11,11,11,11,4,4,11,5,11,5,11,5,11,5,4,11,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,8,8,1,8,8,8,8,8,8,8,8,8,1,8,8,8,8,8,8,1,8],[11,10,10,10,10,10,10,5,4,11,5,11,5,11,5,11,5,4,11,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,8,8,1,8,6,6,6,6,6,6,6,8,1,6,6,6,6,6,8,1,8],[11,5,5,5,5,5,5,5,4,11,5,11,5,11,5,11,5,4,11,5,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,7,7,7,7,7,7,7,7,8,8,1,8,8,8,8,8,8,8,8,1,8,1,1,1,1,1,1,1,8,1,1,1,1,1,1,8,1,8],[11,11,11,11,11,11,11,11,11,11,5,11,5,11,5,11,5,4,11,5,4,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,1,1,1,1,1,1,1,8,8,1,8,8,6,6,6,6,6,6,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8],[11,10,10,10,10,10,10,10,10,10,5,11,5,9,5,11,5,4,11,5,4,11,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,8,8,8,8,8,1,8,8,1,8,8,1,1,1,1,1,1,1,8,1,8,8,8,6,6,6,6,6,6,6,8,8,8,8,1,8],[11,5,5,5,5,5,5,5,5,5,5,11,5,5,5,11,5,4,11,5,4,11,5,4,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,6,6,6,6,8,1,8,8,1,8,8,1,8,8,8,8,8,8,8,1,8,8,8,1,1,1,1,1,1,1,8,8,8,8,1,8],[11,5,11,11,11,11,11,11,11,11,5,11,11,11,11,11,5,4,11,5,4,11,5,4,11,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,9,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,1,1,1,8,1,8,8,1,8,8,1,8,8,6,6,6,6,6,1,6,6,8,1,8,8,8,8,8,1,8,8,8,8,1,8],[11,5,11,10,10,10,10,10,10,11,5,9,10,11,10,10,5,4,11,5,4,11,5,4,11,5,4,4,9,5,4,11,5,4,11,5,4,11,5,4,11,5,4,5,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,8,8,1,8,1,8,8,1,8,8,1,8,8,1,1,1,1,1,1,1,1,8,1,6,6,6,8,8,1,8,8,8,8,1,8],[11,5,11,5,5,5,5,5,5,11,5,5,5,11,5,5,5,4,11,5,4,11,5,4,11,5,4,4,5,4,4,11,5,4,11,5,4,11,5,4,11,5,4,4,4,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,8,8,1,8,1,8,8,1,8,8,1,8,8,1,8,8,8,8,8,8,1,8,1,1,1,1,8,8,1,8,8,8,8,1,8],[11,5,11,5,11,11,11,11,11,11,5,4,4,11,5,4,4,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,4,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,8,8,1,8,1,8,8,1,8,8,1,8,8,1,8,6,6,6,6,6,1,8,8,8,8,1,8,8,1,8,8,8,8,1,8],[11,5,9,5,11,10,10,10,10,10,5,4,11,11,5,4,11,11,11,5,4,9,10,10,10,10,10,10,10,10,10,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,8,6,1,8,1,8,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,6,6,6,6,1,8,8,1,6,6,6,8,1,8],[11,5,5,5,11,5,5,5,5,5,5,4,11,10,5,4,9,10,11,11,4,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,8,1,1,8,1,8,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,1,1,1,1,1,8,8,1,1,1,1,8,1,8],[11,11,11,11,11,5,4,4,4,4,4,4,11,5,5,4,5,5,9,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,8,8,8,8,1,8,8,1,8,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8],[11,10,10,10,10,5,4,11,11,11,11,11,11,11,11,11,5,4,5,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,6,6,6,6,1,8,8,1,8,8,1,8,8,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,1,8,1,8],[11,5,5,5,5,5,4,10,10,10,10,10,10,10,10,11,11,5,4,11,5,4,11,10,10,10,10,10,10,10,10,10,10,10,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,1,1,1,1,1,1,8,8,1,8,8,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,1,8],[11,5,4,4,4,4,4,5,5,5,5,5,5,5,5,10,11,5,4,11,5,4,11,5,5,5,5,5,5,5,5,5,5,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,8,8,8,1,8,1,8,1,8],[11,5,4,11,11,4,4,4,4,4,4,4,4,4,4,5,11,5,11,11,5,4,11,5,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,6,6,6,6,6,6,6,6,6,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,6,6,6,1,8,1,8,1,8],[11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,5,11,5,11,11,5,4,11,5,4,11,11,11,11,11,11,11,11,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,1,1,1,1,1,1,1,1,1,1,1,8,8,1,6,6,6,6,6,6,6,6,6,6,6,6,1,8,8,1,1,1,1,8,1,8,1,8],[11,5,4,9,10,10,10,10,10,10,10,10,10,10,11,5,11,5,9,11,5,4,11,5,4,11,10,10,10,10,10,10,10,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,1,8,1,8],[11,5,4,5,5,5,5,5,5,5,5,5,5,5,11,5,11,5,5,11,5,4,11,5,4,11,5,5,5,5,5,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,1,8,1,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,11,5,11,5,4,11,5,4,11,5,4,11,5,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,6,1,6,1,6,6,6,6,8,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,1,1,1,1,1,1,1,8,1,8],[11,11,11,11,11,11,11,11,11,11,11,11,11,4,11,5,11,5,4,11,5,4,11,5,4,11,5,11,10,10,10,10,10,10,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,1,1,1,1,1,1,1,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,8,8,8,8,1,8,1,8],[11,10,10,10,10,10,10,10,10,10,10,10,10,5,11,5,11,5,4,11,5,4,11,5,4,11,5,11,5,5,5,5,5,5,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,1,8,8,8,8,8,1,8,1,8],[11,5,5,5,5,5,5,5,5,5,5,5,5,5,11,5,11,5,4,11,5,4,11,5,4,11,5,11,5,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,8,1,8,1,8,1,6,6,6,6,8,1,8,1,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,11,11,11,5,4,11,5,4,11,5,4,11,5,11,5,4,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,6,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8,6,6,6,6,6,6,6,6,6,6,1,1,1,1,1,1,1,8,1,8,1,8,1,1,1,1,1,8,1,8,1,8],[11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,10,5,4,11,5,4,11,5,4,11,5,11,5,4,11,10,10,10,10,10,10,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,1,6,6,6,6,6,6,6,6,8,8,1,8,8,1,8,1,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,1,8,1,8,1,8,1,8,1,8,1,8,1,8,8,8],[11,5,4,11,10,10,10,10,10,10,10,10,10,10,10,10,5,5,4,11,5,4,11,5,4,11,5,11,5,4,11,5,5,5,5,5,5,11,5,4,11,5,4,11,5,4,11,5,4,11,2,1,1,1,1,1,1,1,1,1,1,8,8,1,8,8,1,8,1,8,8,8,8,8,8,8,1,8,1,8,6,8,8,8,1,8,1,8,1,8,1,8,1,8,1,8,1,6,6,8],[11,5,4,11,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,11,5,4,11,5,4,11,5,11,5,4,11,5,4,11,11,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,2,1,1,1,1,1,1,1,1,1,1,8,8,1,8,8,1,8,1,6,6,6,6,6,8,8,1,8,1,8,1,8,8,8,1,8,1,8,1,8,1,8,1,8,1,8,1,1,1,8],[11,5,4,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,11,5,4,11,5,4,11,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,2,2,1,1,1,8,8,8,8,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,8,8,1,8,1,8,1,6,6,6,1,8,1,8,1,8,1,8,1,8,1,8,8,8,1,8],[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,11,5,4,11,5,4,11,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,2,2,1,1,1,8,8,8,8,8,1,8,8,1,8,8,1,8,1,8,8,8,8,1,8,8,1,8,1,8,1,1,1,1,1,8,1,8,1,8,1,8,1,8,1,8,6,8,1,8],[11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,11,5,4,11,5,11,5,4,11,5,4,11,5,4,11,11,5,4,11,5,4,11,5,4,11,5,4,11,2,2,2,1,1,8,8,6,8,8,1,8,8,1,8,8,1,8,1,8,6,8,8,1,8,8,1,8,1,8,8,8,8,8,8,8,1,8,1,8,1,8,1,8,1,6,1,8,1,8],[11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,4,11,5,11,5,4,11,5,4,11,5,4,11,10,5,4,11,5,4,11,5,4,11,5,4,9,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,8,1,8,1,6,6,6,6,6,6,6,1,8,1,8,1,8,1,8,1,1,1,8,1,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,11,5,4,11,5,4,11,5,4,11,5,5,4,11,5,4,11,11,11,11,5,4,5,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,1,1,1,8,1,8,1,8,1,8,8,8,8,8,1,8],[11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,11,5,4,11,5,4,11,5,4,11,5,4,4,11,5,4,9,10,10,11,5,4,4,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,1,6,6,6,6,8,1,8],[11,5,4,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,11,5,11,5,4,11,5,4,11,5,4,11,5,4,4,11,5,4,5,5,5,11,11,11,11,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,8,1,6,6,1,8,8,1,6,6,6,6,6,6,6,6,6,6,8,1,8,1,8,1,1,1,1,1,8,1,8],[11,5,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,11,5,4,11,5,4,11,5,4,11,5,4,4,11,11,5,4,4,4,11,10,10,11,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,8,1,1,1,1,8,8,1,1,1,1,1,1,1,1,1,1,1,8,1,8,1,8,8,8,8,8,1,8,1,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,11,5,4,11,5,4,11,5,4,11,5,4,4,9,11,11,11,4,4,11,5,5,11,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,1,8,8,8,1,1,1,8,1,8,1,6,6,8,8,8,1,8,1,8],[11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,11,5,4,11,5,4,11,5,4,11,5,4,4,5,9,10,11,5,4,11,5,4,11,2,2,2,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,6,6,6,6,6,6,8,8,8,8,8,1,8,8,8,8,8,8,8,1,8,1,1,1,8,8,8,1,8,1,8],[11,5,4,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,11,5,4,9,5,4,11,5,4,11,11,11,11,5,5,5,11,5,4,11,5,4,11,2,2,1,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,1,8,8,8,8,8,1,8,8,6,6,6,6,8,1,8,8,1,8,8,8,8,1,8,1,8],[11,5,4,11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,11,5,4,5,5,4,11,5,4,11,10,10,11,5,4,4,11,5,4,11,5,4,11,2,2,1,1,1,8,8,1,8,8,1,8,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,1,1,1,8,1,8,8,1,8,6,6,6,1,8,1,8],[11,5,4,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,5,4,4,4,11,5,4,11,5,5,11,5,4,4,11,5,4,11,5,4,11,2,2,1,1,8,8,8,1,8,8,1,8,8,1,8,8,1,8,6,6,6,6,6,6,6,6,6,6,6,6,1,8,8,1,8,8,1,8,1,8,6,1,8,1,1,1,1,8,1,8],[11,5,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,4,4,11,5,4,11,5,4,11,11,11,5,11,5,4,11,5,4,11,2,1,1,1,8,8,8,1,8,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,1,8,8,1,8,1,8,1,1,8,1,8,8,1,8,1,8],[11,5,4,11,5,4,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,5,4,4,4,11,5,4,11,5,4,9,11,10,5,11,5,4,11,5,4,11,2,1,1,8,8,6,6,1,8,8,1,8,8,1,8,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,8,1,8,1,8],[11,5,4,11,5,4,11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,11,5,4,11,11,11,5,4,11,11,5,5,11,5,5,11,5,4,11,5,4,11,1,1,1,8,8,1,1,1,8,8,1,8,8,1,8,8,1,8,1,6,6,6,6,6,6,6,6,6,6,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,8,1,8,1,8],[11,5,4,11,5,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,11,11,5,4,9,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,1,8,1,8,8,1,8,8,1,8,8,1,8,1,1,1,1,1,1,1,1,1,1,1,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,6,1,8,1,8],[11,5,4,11,5,4,11,5,4,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,5,4,11,5,4,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,1,8,1,8,8,1,8,8,1,8,8,1,8,1,8,8,8,8,8,8,8,8,8,1,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,1,1,8,1,8],[11,5,4,11,5,4,11,5,4,11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,11,5,4,11,5,4,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,6,1,8,1,8,8,1,8,8,1,8,8,1,8,1,8,6,6,8,8,8,8,8,8,1,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,1,8,8,1,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,10,10,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,8,8,8,8,1,8,8,1,8,8,1,8,1,8,1,1,8,8,8,8,8,8,1,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,1,6,8,1,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,10,10,10,10,10,10,10,10,10,11,5,4,11,5,4,11,5,4,11,5,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,6,6,6,6,1,8,8,1,8,8,1,8,1,8,8,1,6,6,6,6,6,6,1,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,1,1,8,1,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,5,5,5,5,5,5,5,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,1,1,1,1,1,1,1,8,8,1,8,8,1,8,1,8,8,1,1,1,1,1,1,1,1,8,1,8,8,1,8,8,1,8,1,8,1,8,8,1,8,8,8,8,8,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,11,11,11,11,11,11,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,8,8,8,8,8,8,8,8,1,8,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,1,6,6,1,8,8,1,8,1,8,1,8,8,1,6,6,6,6,6,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,11,10,10,10,10,10,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,6,6,6,6,6,6,6,6,6,6,6,1,8,8,1,8,1,6,6,6,6,6,6,8,8,8,8,8,1,1,1,1,8,8,1,8,1,8,1,6,8,1,1,1,1,1,2,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,11,5,5,5,5,5,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,1,8,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,1,1,8,8,8,8,8,8,2,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,11,11,4,11,11,5,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,8,8,8,8,8,1,8,8,8,8,8,8,8,8,8,8,8,1,8,1,8,8,8,8,8,8,8,6,6,2,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,9,10,4,9,11,5,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,6,6,6,6,6,6,6,6,6,6,6,8,8,1,6,6,6,6,6,6,8,1,8,8,6,6,6,6,6,6,6,6,6,1,8,1,6,6,6,6,6,6,6,1,1,2,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,5,5,5,4,5,11,5,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,1,1,1,1,1,1,1,1,1,1,8,8,1,1,1,1,1,1,1,8,1,8,8,1,1,1,1,1,1,1,1,1,1,8,1,1,1,1,1,1,1,1,1,1,2,8],[11,5,4,11,5,4,11,5,4,11,5,4,11,11,11,11,11,11,11,5,11,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,8,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,2,2,8],[11,5,4,11,5,4,11,5,4,11,5,4,9,10,10,10,10,10,10,5,11,5,11,5,4,11,5,4,9,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,9,5,4,11,1,1,8,1,6,6,6,6,6,6,6,6,6,6,6,6,6,8,1,8,8,8,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,2,2,2,8],[11,5,4,11,5,4,11,5,4,11,5,5,5,5,5,5,5,5,5,5,11,5,11,5,4,11,5,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,5,5,4,11,1,1,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,8,8,8,8,1,8,8,1,6,6,6,6,6,6,6,6,6,8,8,8,8,8,8,6,6,2,2,2,0,8],[11,5,4,11,5,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,5,11,5,4,11,5,4,11,4,4,11,5,4,11,5,4,11,5,4,9,5,4,11,11,11,11,4,4,11,1,1,8,1,8,1,8,8,8,8,8,8,8,1,1,1,1,8,1,6,6,6,8,8,1,8,8,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,6,1,1,2,2,2,0,8],[11,5,4,11,5,4,11,5,4,9,10,10,10,10,10,10,10,10,10,10,10,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,5,5,4,9,10,10,11,4,4,11,1,1,8,1,8,1,8,6,6,8,6,6,6,1,8,8,8,8,1,1,1,1,8,8,1,8,8,8,8,8,8,8,8,8,8,8,1,8,8,8,8,6,1,1,2,2,2,2,2,8],[11,5,4,11,5,4,11,5,4,5,5,5,5,5,5,5,5,5,5,5,5,5,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,4,4,4,5,5,5,11,11,11,11,1,1,8,1,8,1,8,1,1,8,1,1,1,1,8,8,8,8,8,8,8,8,8,8,1,8,6,6,6,6,6,6,6,6,6,6,1,8,8,8,6,1,1,2,2,2,0,0,2,8],[11,5,4,11,5,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,4,4,4,4,4,4,11,10,10,11,1,1,8,1,8,1,8,1,1,8,1,1,1,1,8,8,6,6,8,6,6,6,6,6,1,8,1,1,1,1,1,1,1,1,1,1,1,8,8,6,1,1,2,2,2,2,0,0,2,8],[11,5,4,11,5,4,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,4,4,11,4,4,11,5,5,11,1,1,8,1,8,1,8,1,1,8,1,8,8,8,8,8,1,1,8,1,1,1,1,1,1,8,1,8,8,8,8,8,8,1,8,8,8,8,8,1,1,1,2,2,2,0,0,0,2,8],[11,5,4,11,5,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,8,8,8,8,8,1,1,8,8,8,8,8,8,8,8,1,6,6,6,6,6,8,1,8,8,8,8,6,2,2,2,2,2,0,0,0,0,2,8],[11,5,4,11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,8,8,6,6,6,1,1,6,6,6,6,6,6,6,8,1,1,1,1,1,1,8,1,8,8,8,8,0,0,0,0,0,2,0,2,0,0,2,8],[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,8,8,1,1,1,1,1,1,1,1,1,1,1,1,8,1,8,8,8,8,8,8,1,8,8,8,6,2,2,2,2,0,2,0,2,0,0,2,8],[11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,1,8,1,8,8,6,6,6,6,1,8,8,8,1,1,1,2,2,0,2,0,2,0,0,2,8],[11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,8,8,1,8,8,8,8,8,8,8,8,8,8,1,8,1,8,8,1,1,1,1,1,8,8,6,1,1,2,2,0,0,2,0,2,0,0,2,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,1,8,8,8,8,8,1,8,8,8,8,8,1,1,2,2,0,0,0,2,0,2,0,0,2,8],[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,6,6,6,6,6,6,6,6,6,6,6,6,6,1,6,6,6,6,6,1,8,8,8,8,6,1,2,2,2,0,0,0,2,0,2,0,0,2,8],[11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,8,8,6,1,1,2,2,2,0,0,0,2,0,2,0,0,2,8],[11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,4,9,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,2,2,2,0,0,0,0,2,0,2,2,2,2,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,5,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,1,2,2,2,2,0,0,0,0,2,0,0,2,0,0,8],[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,5,4,11,5,4,11,5,4,11,1,1,8,1,8,1,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,0,2,0,0,0,0,0,2,2,0,2,2,0,8],[11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,11,5,4,11,5,4,11,5,4,9,5,4,11,1,1,8,8,8,1,8,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0,2,0,0,0,0,0,0,2,2,0,2,0,8],[11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,4,11,5,4,11,5,4,5,5,4,11,1,1,8,6,6,1,6,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,2,2,2,2,2,2,0,0,0,0,2,0,8],[11,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,11,5,4,11,5,4,11,5,4,4,4,4,11,1,1,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,2,2,2,2,0,2,2,8],[11,5,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,5,4,11,5,4,11,11,11,11,11,11,11,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,0,2,0,0,0,8],[11,5,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,5,4,11,5,4,9,10,10,10,10,10,11,2,2,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,2,2,2,0,8],[11,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,11,5,4,5,5,5,5,5,5,11,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,8],[11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]])}return function(t,e,n){e&&ct(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"loadMap",value:function(){return this._map}}]),t}();return addEventListener("load",(function(){var t=new B;t.preload("./static/img/yamada.png","./static/img/rico.png","./static/img/aru.png","./static/img/start.png","./static/img/goal.png","./static/img/tile.png","./static/img/dpad.png","./static/sound/bgm.mp3","./static/sound/start.mp3","./static/sound/clear.mp3"),t.keybind("space"," "),t.main((function(){var e=function(){var e=new O,i=(new lt).loadMap(),r=new $("./static/img/tile.png");r.setMap(i),r.x=112,r.y=80,r.setObstacles([0,3,6,7,8,9,10,11]),e.addObject(r);var o=new y("./static/img/start.png");o.x=32,o.y=64,r.addTile(o);var s=new y("./static/img/goal.png");s.x=3136,s.y=3136,r.addTile(s);var a=new x("./static/img/yamada.png",!1);a.x=a.y=144,r.addTile(a);var u=new x("./static/img/rico.png");u.x=208,u.y=144,u.isSynchronize=!1,r.addTile(u);var c=new x("./static/img/aru.png");c.x=208,c.y=176,c.isSynchronize=!1,r.addTile(c);var f=new at(a,u,c);f.speed=4;var l=new nt("./static/img/dpad.png",80);l.x=10,l.y=230,e.addObject(l),e.onChangeScene=function(){t.sounds["./static/sound/start.mp3"].stop(),t.sounds["./static/sound/bgm.mp3"].soundLoop()};var h=0,p=!1,v=!0;return e.onEnterFrame=function(){if(0==(r.x-16)%32&&0==(r.y-16)%32){if(r.vx=r.vy=0,f.member.forEach((function(t){t.vx=t.vy=0,t.animation=1})),a.isOverlapped(s)&&!p){var i=new J("ゴール！");i.size=50,i.x=15,i.y=135,i.middle().center(),e.addObject(i),p=!0,v=!1,t.sounds["./static/sound/bgm.mp3"].stop(),t.sounds["./static/sound/clear.mp3"].start(),setTimeout((function(){t.currentScene=n()}),6e3)}if(v){t.input.left||l.arrow.left?(f.setMemberVerocity("left"),r.vx=4,a.direction=1):t.input.right||l.arrow.right?(f.setMemberVerocity("right"),r.vx=-4,a.direction=2):t.input.up||l.arrow.up?(f.setMemberVerocity("up"),r.vy=4,a.direction=3):(t.input.down||l.arrow.down)&&(f.setMemberVerocity("down"),r.vy=-4,a.direction=0);var o=a.mapX-r.vx/4,u=a.mapY-r.vy/4;r.hasObstacle(o,u)&&(r.vx=r.vy=0,f.member.forEach((function(t){t.vx=t.vy=0}))),(0!==r.vx||0!==r.vy)&&f.setMemberDirection()}}else 0==(r.x+16)%16&&0==(r.y+16)%16&&(h^=1,f.member.forEach((function(t){t.animation=0==h?2:0})))},e},n=function(){var n=new O,i=new J("とれいすらびりんす");return i.center().middle(),n.addObject(i),n.onChangeScene=function(){t.sounds["./static/sound/clear.mp3"].stop(),t.sounds["./static/sound/start.mp3"].start()},n.ontouchstart=function(){t.currentScene=e()},n.onEnterFrame=function(){t.input.space&&(t.currentScene=e())},n};t.addScene(n()),t.addScene(e()),t.start()}))})),t})()));